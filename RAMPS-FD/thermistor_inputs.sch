EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:RMC
LIBS:arduino_shieldsNCL
LIBS:opendous
LIBS:RAMPS-FD-cache
EELAYER 27 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 10 10
Title "RAMPS-FD (RAMPS for Arduino Due)"
Date "1 jan 2014"
Rev "v1 Issue B"
Comp ""
Comment1 "Derived from RAMPS 1.4 reprap.org/wiki/RAMPS1.4"
Comment2 "GPL v3"
Comment3 "Bob Cousins 2013"
Comment4 ""
$EndDescr
Wire Wire Line
	2750 2600 3350 2600
Wire Wire Line
	3350 2600 3350 4500
Wire Wire Line
	3350 5250 3950 5250
Wire Wire Line
	3100 1550 4300 1550
Wire Wire Line
	3100 1550 3100 2400
Wire Wire Line
	3100 2400 2750 2400
Connection ~ 4700 3700
Wire Wire Line
	4650 3700 5600 3700
Connection ~ 6100 2050
Wire Wire Line
	5500 2000 5500 2050
Wire Wire Line
	5050 2050 6100 2050
Wire Wire Line
	4800 1550 6450 1550
Wire Wire Line
	4500 5300 4500 5250
Wire Wire Line
	3950 6800 3100 6800
Wire Wire Line
	3100 6050 3100 2700
Wire Wire Line
	4500 6950 4500 6800
Wire Wire Line
	4500 7350 4500 7450
Connection ~ 5300 6200
Connection ~ 5300 7450
Wire Wire Line
	5300 7350 5300 7550
Connection ~ 5300 6800
Wire Wire Line
	5300 6750 5300 6950
Wire Wire Line
	5300 6150 5300 6250
Connection ~ 1750 2600
Wire Wire Line
	1950 2500 1750 2500
Wire Wire Line
	1750 2700 1950 2700
Wire Wire Line
	3900 950  3900 1000
Wire Wire Line
	6100 2000 6100 2100
Wire Wire Line
	5300 4150 5300 4250
Connection ~ 5300 3700
Wire Wire Line
	5300 3650 5300 3750
Wire Wire Line
	5300 3100 5300 3150
Wire Wire Line
	5300 4650 5300 4700
Wire Wire Line
	5300 5200 5300 5300
Connection ~ 5300 5250
Wire Wire Line
	5300 5700 5300 5800
Wire Wire Line
	1750 2600 1950 2600
Connection ~ 1750 2700
Wire Wire Line
	1950 2400 1750 2400
Wire Wire Line
	1750 2400 1750 3000
Connection ~ 1750 2500
Wire Wire Line
	3100 2700 2750 2700
Connection ~ 4500 6800
Wire Wire Line
	4450 6800 5750 6800
Wire Wire Line
	4500 7450 5300 7450
Wire Wire Line
	5300 5750 4500 5750
Wire Wire Line
	4500 5750 4500 5700
Connection ~ 5300 5750
Wire Wire Line
	4450 5250 5700 5250
Connection ~ 4500 5250
Wire Wire Line
	5500 1600 5500 1550
Connection ~ 5500 1550
Wire Wire Line
	4700 3750 4700 3700
Wire Wire Line
	4700 4150 4700 4200
Wire Wire Line
	4700 4200 5300 4200
Connection ~ 5300 4200
Wire Wire Line
	2750 2500 3500 2500
Wire Wire Line
	3500 2500 3500 2950
Wire Wire Line
	3500 3700 4150 3700
$Comp
L R R504
U 1 1 519E9454
P 4550 1550
F 0 "R504" V 4450 1550 50  0000 C CNN
F 1 "4k7" V 4550 1550 50  0000 C CNN
F 2 "" H 4550 1550 60  0001 C CNN
F 3 "" H 4550 1550 60  0001 C CNN
	1    4550 1550
	0    -1   -1   0   
$EndComp
$Comp
L C C504
U 1 1 519E9453
P 5500 1800
F 0 "C504" H 5550 1900 50  0000 L CNN
F 1 "100n" H 5550 1700 50  0000 L CNN
F 2 "" H 5500 1800 60  0001 C CNN
F 3 "" H 5500 1800 60  0001 C CNN
	1    5500 1800
	1    0    0    -1  
$EndComp
$Comp
L R R505
U 1 1 519E9446
P 4400 3700
F 0 "R505" V 4300 3700 50  0000 C CNN
F 1 "22R" V 4400 3700 50  0000 C CNN
F 2 "" H 4400 3700 60  0001 C CNN
F 3 "" H 4400 3700 60  0001 C CNN
	1    4400 3700
	0    -1   -1   0   
$EndComp
$Comp
L C C505
U 1 1 519E9445
P 4700 3950
F 0 "C505" H 4750 4050 50  0000 L CNN
F 1 "100n" H 4750 3850 50  0000 L CNN
F 2 "" H 4700 3950 60  0001 C CNN
F 3 "" H 4700 3950 60  0001 C CNN
	1    4700 3950
	1    0    0    -1  
$EndComp
$Comp
L C C503
U 1 1 519E9435
P 4500 5500
F 0 "C503" H 4550 5600 50  0000 L CNN
F 1 "100n" H 4550 5400 50  0000 L CNN
F 2 "" H 4500 5500 60  0001 C CNN
F 3 "" H 4500 5500 60  0001 C CNN
	1    4500 5500
	1    0    0    -1  
$EndComp
$Comp
L R R503
U 1 1 519E9434
P 4200 5250
F 0 "R503" V 4100 5250 50  0000 C CNN
F 1 "22R" V 4200 5250 50  0000 C CNN
F 2 "" H 4200 5250 60  0001 C CNN
F 3 "" H 4200 5250 60  0001 C CNN
	1    4200 5250
	0    -1   -1   0   
$EndComp
Text Notes 6950 1200 0    50   ~ 0
To CPU
Text Notes 1550 1900 0    50   ~ 0
From \nthermistor
$Comp
L R R502
U 1 1 517BADA5
P 4200 6800
F 0 "R502" V 4100 6800 50  0000 C CNN
F 1 "22R" V 4200 6800 50  0000 C CNN
F 2 "" H 4200 6800 60  0001 C CNN
F 3 "" H 4200 6800 60  0001 C CNN
	1    4200 6800
	0    -1   -1   0   
$EndComp
$Comp
L C C502
U 1 1 517BAD21
P 4500 7150
F 0 "C502" H 4550 7250 50  0000 L CNN
F 1 "100n" H 4550 7050 50  0000 L CNN
F 2 "" H 4500 7150 60  0001 C CNN
F 3 "" H 4500 7150 60  0001 C CNN
	1    4500 7150
	1    0    0    -1  
$EndComp
$Comp
L +V_LOGIC #PWR0114
U 1 1 51786718
P 5300 6150
F 0 "#PWR0114" H 5300 6120 30  0001 C CNN
F 1 "+V_LOGIC" H 5300 6250 30  0000 C CNN
F 2 "" H 5300 6150 60  0001 C CNN
F 3 "" H 5300 6150 60  0001 C CNN
	1    5300 6150
	1    0    0    -1  
$EndComp
$Comp
L +V_LOGIC #PWR0115
U 1 1 51786714
P 5300 4650
F 0 "#PWR0115" H 5300 4620 30  0001 C CNN
F 1 "+V_LOGIC" H 5300 4750 30  0000 C CNN
F 2 "" H 5300 4650 60  0001 C CNN
F 3 "" H 5300 4650 60  0001 C CNN
	1    5300 4650
	1    0    0    -1  
$EndComp
$Comp
L +V_LOGIC #PWR0116
U 1 1 51786712
P 5300 3100
F 0 "#PWR0116" H 5300 3070 30  0001 C CNN
F 1 "+V_LOGIC" H 5300 3200 30  0000 C CNN
F 2 "" H 5300 3100 60  0001 C CNN
F 3 "" H 5300 3100 60  0001 C CNN
	1    5300 3100
	1    0    0    -1  
$EndComp
$Comp
L +V_LOGIC #PWR0117
U 1 1 5178670D
P 3900 950
F 0 "#PWR0117" H 3900 920 30  0001 C CNN
F 1 "+V_LOGIC" H 3900 1050 30  0000 C CNN
F 2 "" H 3900 950 60  0001 C CNN
F 3 "" H 3900 950 60  0001 C CNN
	1    3900 950 
	1    0    0    -1  
$EndComp
$Comp
L R R501
U 1 1 5178644E
P 5300 6500
F 0 "R501" V 5380 6500 50  0000 C CNN
F 1 "4k7" V 5300 6500 50  0000 C CNN
F 2 "" H 5300 6500 60  0001 C CNN
F 3 "" H 5300 6500 60  0001 C CNN
	1    5300 6500
	1    0    0    -1  
$EndComp
$Comp
L C C501
U 1 1 5178644D
P 5300 7150
F 0 "C501" H 5350 7250 50  0000 L CNN
F 1 "10u" H 5350 7050 50  0000 L CNN
F 2 "" H 5300 7150 60  0001 C CNN
F 3 "" H 5300 7150 60  0001 C CNN
	1    5300 7150
	1    0    0    -1  
$EndComp
Text GLabel 5750 6800 2    50   Output ~ 0
THERM3
$Comp
L GND #PWR0118
U 1 1 5178644B
P 5300 7550
F 0 "#PWR0118" H 5300 7550 30  0001 C CNN
F 1 "GND" H 5300 7480 30  0001 C CNN
F 2 "" H 5300 7550 60  0001 C CNN
F 3 "" H 5300 7550 60  0001 C CNN
	1    5300 7550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0119
U 1 1 5178640E
P 1750 3000
F 0 "#PWR0119" H 1750 3000 30  0001 C CNN
F 1 "GND" H 1750 2930 30  0001 C CNN
F 2 "" H 1750 3000 60  0001 C CNN
F 3 "" H 1750 3000 60  0001 C CNN
	1    1750 3000
	1    0    0    -1  
$EndComp
$Comp
L CONN_4X2 P301
U 1 1 517863D5
P 2350 2550
F 0 "P301" H 2350 2800 50  0000 C CNN
F 1 "CONN_4X2" V 2350 2550 40  0000 C CNN
F 2 "" H 2350 2550 60  0001 C CNN
F 3 "" H 2350 2550 60  0001 C CNN
	1    2350 2550
	1    0    0    -1  
$EndComp
Text Notes 3300 750  2    80   ~ 16
Thermistor Inputs
$Comp
L GND #PWR0120
U 1 1 50FC3AB6
P 5300 5800
F 0 "#PWR0120" H 5300 5800 30  0001 C CNN
F 1 "GND" H 5300 5730 30  0001 C CNN
F 2 "" H 5300 5800 60  0001 C CNN
F 3 "" H 5300 5800 60  0001 C CNN
	1    5300 5800
	1    0    0    -1  
$EndComp
Text GLabel 5700 5250 2    50   Output ~ 0
THERM2
$Comp
L C C303
U 1 1 50FC3AB4
P 5300 5500
F 0 "C303" H 5350 5600 50  0000 L CNN
F 1 "10u" H 5350 5400 50  0000 L CNN
F 2 "" H 5300 5500 60  0001 C CNN
F 3 "" H 5300 5500 60  0001 C CNN
	1    5300 5500
	1    0    0    -1  
$EndComp
$Comp
L R R303
U 1 1 50FC3AB3
P 5300 4950
F 0 "R303" V 5380 4950 50  0000 C CNN
F 1 "4k7" V 5300 4950 50  0000 C CNN
F 2 "" H 5300 4950 60  0001 C CNN
F 3 "" H 5300 4950 60  0001 C CNN
	1    5300 4950
	1    0    0    -1  
$EndComp
$Comp
L R R302
U 1 1 50FC3A9E
P 5300 3400
F 0 "R302" V 5380 3400 50  0000 C CNN
F 1 "4k7" V 5300 3400 50  0000 C CNN
F 2 "" H 5300 3400 60  0001 C CNN
F 3 "" H 5300 3400 60  0001 C CNN
	1    5300 3400
	1    0    0    -1  
$EndComp
$Comp
L C C302
U 1 1 50FC3A9D
P 5300 3950
F 0 "C302" H 5350 4050 50  0000 L CNN
F 1 "10u" H 5350 3850 50  0000 L CNN
F 2 "" H 5300 3950 60  0001 C CNN
F 3 "" H 5300 3950 60  0001 C CNN
	1    5300 3950
	1    0    0    -1  
$EndComp
Text GLabel 5600 3700 2    50   Output ~ 0
THERM1
$Comp
L GND #PWR0121
U 1 1 50FC3A9B
P 5300 4250
F 0 "#PWR0121" H 5300 4250 30  0001 C CNN
F 1 "GND" H 5300 4180 30  0001 C CNN
F 2 "" H 5300 4250 60  0001 C CNN
F 3 "" H 5300 4250 60  0001 C CNN
	1    5300 4250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0122
U 1 1 50FC3A5D
P 6100 2100
F 0 "#PWR0122" H 6100 2100 30  0001 C CNN
F 1 "GND" H 6100 2030 30  0001 C CNN
F 2 "" H 6100 2100 60  0001 C CNN
F 3 "" H 6100 2100 60  0001 C CNN
	1    6100 2100
	1    0    0    -1  
$EndComp
Text GLabel 6450 1550 2    50   Output ~ 0
THERM0
$Comp
L C C301
U 1 1 50FC3A14
P 6100 1800
F 0 "C301" H 6150 1900 50  0000 L CNN
F 1 "10u" H 6150 1700 50  0000 L CNN
F 2 "" H 6100 1800 60  0001 C CNN
F 3 "" H 6100 1800 60  0001 C CNN
	1    6100 1800
	1    0    0    -1  
$EndComp
$Comp
L R R301
U 1 1 50FC3A00
P 3900 1250
F 0 "R301" V 3980 1250 50  0000 C CNN
F 1 "4k7" V 3900 1250 50  0000 C CNN
F 2 "" H 3900 1250 60  0001 C CNN
F 3 "" H 3900 1250 60  0001 C CNN
	1    3900 1250
	1    0    0    -1  
$EndComp
$Comp
L R R1001
U 1 1 52C436B9
P 8700 2350
F 0 "R1001" V 8780 2350 50  0000 C CNN
F 1 "10k" V 8700 2350 50  0000 C CNN
F 2 "" H 8700 2350 60  0001 C CNN
F 3 "" H 8700 2350 60  0001 C CNN
	1    8700 2350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR0123
U 1 1 52C436C0
P 8700 3350
F 0 "#PWR0123" H 8700 3350 30  0001 C CNN
F 1 "GND" H 8700 3280 30  0001 C CNN
F 2 "" H 8700 3350 60  0001 C CNN
F 3 "" H 8700 3350 60  0001 C CNN
	1    8700 3350
	1    0    0    -1  
$EndComp
$Comp
L ZENER D1003
U 1 1 52C436E1
P 8700 3000
F 0 "D1003" H 8700 3100 50  0000 C CNN
F 1 "3V3" H 8700 2900 40  0000 C CNN
F 2 "~" H 8700 3000 60  0000 C CNN
F 3 "~" H 8700 3000 60  0000 C CNN
	1    8700 3000
	0    -1   -1   0   
$EndComp
$Comp
L +12P #PWR0124
U 1 1 52C4371F
P 8600 4250
F 0 "#PWR0124" H 8600 4220 30  0001 C CNN
F 1 "+12P" H 8600 4350 30  0000 C CNN
F 2 "" H 8600 4250 60  0000 C CNN
F 3 "" H 8600 4250 60  0000 C CNN
	1    8600 4250
	1    0    0    -1  
$EndComp
Text GLabel 9250 2700 2    60   Input ~ 0
OV_REF
Wire Wire Line
	9250 2700 8700 2700
Wire Wire Line
	8700 2600 8700 2800
Connection ~ 8700 2700
Wire Wire Line
	8600 4250 8600 4500
Wire Wire Line
	8700 3350 8700 3200
$Comp
L DIODE D1002
U 1 1 52C438B2
P 5050 1800
F 0 "D1002" H 5050 1900 40  0000 C CNN
F 1 "1N4148" H 5050 1700 40  0000 C CNN
F 2 "~" H 5050 1800 60  0000 C CNN
F 3 "~" H 5050 1800 60  0000 C CNN
	1    5050 1800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5050 2050 5050 2000
Connection ~ 5500 2050
$Comp
L DIODE D1001
U 1 1 52C43922
P 5050 1300
F 0 "D1001" H 5050 1400 40  0000 C CNN
F 1 "1N4148" H 5050 1200 40  0000 C CNN
F 2 "~" H 5050 1300 60  0000 C CNN
F 3 "~" H 5050 1300 60  0000 C CNN
	1    5050 1300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5050 1500 5050 1600
Connection ~ 5050 1550
Wire Wire Line
	6100 1600 6100 1550
Connection ~ 6100 1550
Text GLabel 5350 1000 2    60   Output ~ 0
OV_REF
Wire Wire Line
	5350 1000 5050 1000
Wire Wire Line
	5050 1000 5050 1100
Wire Wire Line
	3900 1500 3900 1550
Connection ~ 3900 1550
$Comp
L TL431_TO92_RMC U1001
U 1 1 52C441A0
P 8600 5700
F 0 "U1001" H 8700 5925 40  0000 L BNN
F 1 "TLV431A" H 8675 5475 40  0000 L TNN
F 2 "TO92_STD_RMC" H 8850 5400 30  0000 C CNN
F 3 "" H 8600 5700 60  0000 C CNN
	1    8600 5700
	-1   0    0    -1  
$EndComp
$Comp
L +12P #PWR0125
U 1 1 52C441C6
P 8700 1850
F 0 "#PWR0125" H 8700 1820 30  0001 C CNN
F 1 "+12P" H 8700 1950 30  0000 C CNN
F 2 "" H 8700 1850 60  0000 C CNN
F 3 "" H 8700 1850 60  0000 C CNN
	1    8700 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8700 1850 8700 2100
$Comp
L R R1002
U 1 1 52C441CF
P 8600 4750
F 0 "R1002" V 8680 4750 40  0000 C CNN
F 1 "10k" V 8607 4751 40  0000 C CNN
F 2 "~" V 8530 4750 30  0000 C CNN
F 3 "~" H 8600 4750 30  0000 C CNN
	1    8600 4750
	1    0    0    -1  
$EndComp
$Comp
L R R1004
U 1 1 52C441EB
P 9200 6000
F 0 "R1004" V 9280 6000 40  0000 C CNN
F 1 "1k" V 9207 6001 40  0000 C CNN
F 2 "~" V 9130 6000 30  0000 C CNN
F 3 "~" H 9200 6000 30  0000 C CNN
	1    9200 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	8600 5100 9850 5100
Wire Wire Line
	8600 5000 8600 5350
Connection ~ 8600 5100
$Comp
L GND #PWR0126
U 1 1 52C4432B
P 9200 6500
F 0 "#PWR0126" H 9200 6500 30  0001 C CNN
F 1 "GND" H 9200 6430 30  0001 C CNN
F 2 "" H 9200 6500 60  0001 C CNN
F 3 "" H 9200 6500 60  0001 C CNN
	1    9200 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 6250 9200 6500
Wire Wire Line
	8600 6050 8600 6350
Wire Wire Line
	8600 6350 9600 6350
Connection ~ 9200 6350
Text Label 9850 5100 0    60   ~ 0
Vout
$Comp
L R R1003
U 1 1 52C4448C
P 9200 5400
F 0 "R1003" V 9280 5400 40  0000 C CNN
F 1 "1k6" V 9207 5401 40  0000 C CNN
F 2 "~" V 9130 5400 30  0000 C CNN
F 3 "~" H 9200 5400 30  0000 C CNN
	1    9200 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8850 5700 9200 5700
Wire Wire Line
	9200 5650 9200 5750
Connection ~ 9200 5700
Wire Wire Line
	9200 5100 9200 5150
Connection ~ 9200 5100
$Comp
L CP1 C1001
U 1 1 52C4464E
P 9600 5700
F 0 "C1001" H 9650 5800 50  0000 L CNN
F 1 "CP1" H 9650 5600 50  0000 L CNN
F 2 "~" H 9600 5700 60  0000 C CNN
F 3 "~" H 9600 5700 60  0000 C CNN
	1    9600 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 5500 9600 5100
Connection ~ 9600 5100
Wire Wire Line
	9600 6350 9600 5900
Text Notes 9950 5300 0    60   ~ 0
Limit at 3.224V
Text Notes 7950 6150 0    50   ~ 0
Vref = 1.24V
Text Notes 9200 3250 0    60   Italic 0
From Rambo 1.2d
Text Notes 9150 4500 0    60   Italic 0
Alternative using TLV431
$EndSCHEMATC
